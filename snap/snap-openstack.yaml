setup:
  dirs:
    - "/etc/keystone/keystone.conf.d"
    - "/etc/keystone/fernet-keys"
    - "/etc/uwsgi"
    - "/var/lib/keystone"
    - "/var/lock/keystone"
    - "/var/log/keystone"
    - "/var/log/uwsgi"
    - "/var/run/keystone"
  templates:
    "keystone-snap.conf.j2": "/etc/keystone/keystone.conf.d/keystone-snap.conf"
    "admin.ini.j2": "/etc/uwsgi/keystone-admin.ini"
    "public.ini.j2": "/etc/uwsgi/keystone-public.ini"
entry_points:
  keystone-manage:
    binary: keystone-manage
    config-files:
      - "{snap}/etc/keystone/keystone.conf"
      - "/etc/keystone/keystone.conf"
    config-dirs:
      - "/etc/keystone/keystone.conf.d"
  keystone-api:
    type: uwsgi
    uwsgi-dir: "/etc/uwsgi"
    log-file: "/var/log/uwsgi/keystone-uwsgi.log"
